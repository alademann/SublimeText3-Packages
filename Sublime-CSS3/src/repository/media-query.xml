<key>media-query</key>
<dict>
	<key>begin</key>
	<string>(?i)\s*(only|not)?\s*(all|aural|braille|embossed|handheld|print|projection|screen|tty|tv)?</string>
	<key>beginCaptures</key>
	<dict>
		<key>1</key>
		<dict>
			<key>name</key>
			<string>keyword.operator.logic.media.css</string>
		</dict>
		<key>2</key>
		<dict>
			<key>name</key>
			<string>support.constant.media.css</string>
		</dict>
	</dict>
	<key>end</key>
	<string>\s*(?:(,)|(?=[{;]))</string>
	<key>endCaptures</key>
	<dict>
		<key>1</key>
		<dict>
			<key>name</key>
			<string>punctuation.definition.arbitrary-repitition.css</string>
		</dict>
	</dict>
	<key>patterns</key>
	<array>
		<dict>
			<key>begin</key>
			<string>\s*(and)?\s*(\()\s*</string>
			<key>beginCaptures</key>
			<dict>
				<key>1</key>
				<dict>
					<key>name</key>
					<string>keyword.operator.logic.media.css</string>
				</dict>
			</dict>
			<key>end</key>
			<string>\)</string>
			<key>patterns</key>
			<array>
				<dict>
					<key>begin</key>
					<string>(?x)
                        (
                            (-webkit-|-o-)?
                            ((min|max)-)?
                            (-moz-)?
                            (
                                ((device-)?(height|width|aspect-ratio|pixel-ratio))|
                                (color(-index)?)|monochrome|resolution
                            )
                        )|grid|scan|orientation
                        \s*(?=[:)])</string>
					<key>beginCaptures</key>
					<dict>
						<key>0</key>
						<dict>
							<key>name</key>
							<string>support.type.property-name.media.css</string>
						</dict>
						<key>2</key>
						<dict>
							<key>name</key>
							<string>support.type.vendor-prefix.css</string>
						</dict>
						<key>5</key>
						<dict>
							<key>name</key>
							<string>support.type.vendor-prefix.css</string>
						</dict>
					</dict>
					<key>end</key>
					<string>(:)|(?=\))</string>
					<key>endCaptures</key>
					<dict>
						<key>1</key>
						<dict>
							<key>name</key>
							<string>punctuation.separator.key-value.css</string>
						</dict>
					</dict>
				</dict>
				<dict>
					<key>match</key>
					<string>\b(portrait|landscape|progressive|interlace)</string>
					<key>name</key>
					<string>support.constant.property-value.css</string>
				</dict>
				<dict>
					<key>captures</key>
					<dict>
						<key>1</key>
						<dict>
							<key>name</key>
							<string>constant.numeric.css</string>
						</dict>
						<key>2</key>
						<dict>
							<key>name</key>
							<string>keyword.operator.arithmetic.css</string>
						</dict>
						<key>3</key>
						<dict>
							<key>name</key>
							<string>constant.numeric.css</string>
						</dict>
					</dict>
					<key>match</key>
					<string>\s*(\d+)(/)(\d+)</string>
				</dict>
				<dict>
					<key>include</key>
					<string>#numeric-values</string>
				</dict>
			</array>
		</dict>
	</array>
</dict>